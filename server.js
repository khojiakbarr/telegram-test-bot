const TelegramBot = require("node-telegram-bot-api");

// Bot token from BotFather
const token = "7724923753:AAFi3uE0kJj7xwaTPEQjCBHglSf9vInNPjs";
const bot = new TelegramBot(token, { polling: true });

// –í–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã –≤ —Å—Ç–∏–ª–µ –°–æ–Ω–∏ –ú–∞—Ä–º–µ–ª–∞–¥–æ–≤–æ–π
const quizData = [
  {
    id: 1,
    question: "–ö—Ç–æ —Ç—ã?",
    answers: [
      "–Ø ‚Äî –°–æ–Ω—è –ú–∞—Ä–º–µ–ª–∞–¥–æ–≤–∞. –ü—Ä–æ—Å—Ç–æ –°–æ–Ω—è, –¥–æ—á—å –ø—å—è–Ω–∏—Ü—ã –∏ –≥—Ä–µ—à–Ω–∏—Ü–∞, –Ω–æ —Å –≤–µ—Ä–æ–π –≤ –¥–æ–±—Ä–æ.",
      "–õ—é–¥–∏ –Ω–∞–∑—ã–≤–∞—é—Ç –º–µ–Ω—è –°–æ–Ω–µ—é‚Ä¶ –Ø ‚Äî —á–µ–ª–æ–≤–µ–∫, –∫–æ—Ç–æ—Ä—ã–π –ø—ã—Ç–∞–µ—Ç—Å—è –ª—é–±–∏—Ç—å, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∏ –Ω–∞ —á—Ç–æ.",
      "–Ø ‚Äî –°–æ–Ω—è. –¢–∏—Ö–∞—è –¥—É—à–∞ –∏–∑ –∫–Ω–∏–≥–∏ –î–æ—Å—Ç–æ–µ–≤—Å–∫–æ–≥–æ, –Ω–æ, –º–æ–∂–µ—Ç –±—ã—Ç—å, –±–ª–∏–∂–µ, —á–µ–º –∫–∞–∂–µ—Ç—Å—è.",
    ],
  },
  {
    id: 2,
    question: "–¢–≤–æ—è —Ü–µ–ª—å –≤ –∂–∏–∑–Ω–∏?",
    answers: [
      "–°–ø–∞—Å—Ç–∏ –¥—É—à—É ‚Äî —Å–≤–æ—é –∏, –µ—Å–ª–∏ –ø–æ–ª—É—á–∏—Ç—Å—è, —á—É–∂—É—é.",
      "–ü—Ä–æ—Å—Ç–æ –±—ã—Ç—å —Ä—è–¥–æ–º —Å —Ç–µ–º–∏, –∫–æ–º—É —Ö—É–∂–µ, —á–µ–º –º–Ω–µ.",
      "–í–µ—Ä–∏—Ç—å, –ª—é–±–∏—Ç—å –∏ –ø—Ä–æ—â–∞—Ç—å, –¥–∞–∂–µ –∫–æ–≥–¥–∞ —ç—Ç–æ –±–æ–ª—å–Ω–æ.",
    ],
  },
  {
    id: 3,
    question: "–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Ç–µ–±—è —Å—á–∞—Å—Ç–ª–∏–≤–æ–π?",
    answers: [
      "–ö–æ–≥–¥–∞ –∫—Ç–æ-—Ç–æ —Ä—è–¥–æ–º –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç —Å—Ç—Ä–∞–¥–∞—Ç—å, —Ö–æ—Ç—å –Ω–∞ –º–∏–≥.",
      "–ö–æ–≥–¥–∞ —è —á—É–≤—Å—Ç–≤—É—é, —á—Ç–æ –Ω–µ –∑—Ä—è –∂–∏–≤—É.",
      "–ú–∞–ª–µ–Ω—å–∫–∏–µ –º–≥–Ω–æ–≤–µ–Ω–∏—è –¥–æ–±—Ä–∞‚Ä¶ –æ–Ω–∏ –¥–∞—é—Ç —Å–∏–ª—ã –∂–∏—Ç—å –¥–∞–ª—å—à–µ.",
    ],
  },
  {
    id: 4,
    question: "–ö–æ–≥–æ —Ç—ã –ª—é–±–∏—à—å?",
    answers: [
      "–¢–µ—Ö, –∫—Ç–æ –∑–∞–±–ª—É–¥–∏–ª—Å—è, –Ω–æ –≤—Å—ë –µ—â—ë –∏—â–µ—Ç —Å–≤–µ—Ç.",
      "–Ø –ª—é–±–ª—é –≤—Å–µ—Ö, –∫—Ç–æ —Å—Ç—Ä–∞–¥–∞–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–∞–º–∞ –∑–Ω–∞—é, –∫–∞–∫ —ç—Ç–æ.",
      "–õ—é–±–æ–≤—å ‚Äî –Ω–µ –≤—ã–±–æ—Ä. –û–Ω–∞ –ø—Ä–æ—Å—Ç–æ –∂–∏–≤—ë—Ç –≤ —Å–µ—Ä–¥—Ü–µ.",
    ],
  },
  {
    id: 5,
    question: "–ß–µ–≥–æ —Ç—ã –±–æ–∏—à—å—Å—è?",
    answers: ["–ü–æ—Ç–µ—Ä—è—Ç—å –≤–µ—Ä—É. –¢–æ–≥–¥–∞ —è –±—ã –∏—Å—á–µ–∑–ª–∞.", "–•–æ–ª–æ–¥–Ω–æ–≥–æ —Å–µ—Ä–¥—Ü–∞ ‚Äî —Å–≤–æ–µ–≥–æ –∏–ª–∏ —á—É–∂–æ–≥–æ.", "–ú–æ–ª—á–∞–Ω–∏—è, –∫–æ–≥–¥–∞ –ë–æ–≥ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç."],
  },
  {
    id: 6,
    question: "–ß—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —Ç–µ–±–µ –≤–µ—Ä–∏—Ç—å, –∫–æ–≥–¥–∞ –≤—Å—ë —Ä—É—à–∏—Ç—Å—è?",
    answers: ["–í–µ—Ä–∞ ‚Äî —ç—Ç–æ —Ç–æ, —á—Ç–æ –Ω–µ —É–º–∏—Ä–∞–µ—Ç –¥–∞–∂–µ –≤–æ —Ç—å–º–µ.", "–ò–Ω–æ–≥–¥–∞ ‚Äî –ø—Ä–æ—Å—Ç–æ –ø–∞–º—è—Ç—å –æ –¥–æ–±—Ä–µ.", "–î–∞–∂–µ –±–æ–ª—å –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º, —á—Ç–æ —è –∂–∏–≤–∞."],
  },
  {
    id: 7,
    question: "–ü–æ—á–µ–º—É —Ç—ã –Ω–µ –æ—Å—É–∂–¥–∞–µ—à—å –†–∞—Å–∫–æ–ª—å–Ω–∏–∫–æ–≤–∞?",
    answers: [
      "–ü–æ—Ç–æ–º—É —á—Ç–æ –∫–∞–∂–¥—ã–π –º–æ–∂–µ—Ç –æ—à–∏–±–∏—Ç—å—Å—è. –ì–ª–∞–≤–Ω–æ–µ ‚Äî —Ä–∞—Å–∫–∞—è—Ç—å—Å—è.",
      "–Ø –≤–∏–∂—É –≤ –Ω—ë–º –Ω–µ –ø—Ä–µ—Å—Ç—É–ø–Ω–∏–∫–∞, –∞ —á–µ–ª–æ–≤–µ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –∏—â–µ—Ç –ø—Ä–∞–≤–¥—É.",
      "–Ø –Ω–µ —Å—É–¥—å—è. –ú–æ—ë –¥–µ–ª–æ ‚Äî –ø–æ–Ω–∏–º–∞—Ç—å –∏ –ø—Ä–æ—â–∞—Ç—å.",
    ],
  },
  {
    id: 8,
    question: "–ß—Ç–æ —Ç–∞–∫–æ–µ –¥–æ–±—Ä–æ –¥–ª—è —Ç–µ–±—è?",
    answers: ["–≠—Ç–æ –∫–æ–≥–¥–∞ —Å–µ—Ä–¥—Ü–µ –Ω–µ –æ—Å—Ç–∞—ë—Ç—Å—è —Ä–∞–≤–Ω–æ–¥—É—à–Ω—ã–º.", "–î–µ–ª–∞—Ç—å –¥–æ–±—Ä–æ ‚Äî –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–∏–∫—Ç–æ –Ω–µ –≤–∏–¥–∏—Ç.", "–ò–Ω–æ–≥–¥–∞ –¥–æ–±—Ä–æ ‚Äî –ø—Ä–æ—Å—Ç–æ –±—ã—Ç—å —Ä—è–¥–æ–º –∏ –º–æ–ª—á–∞—Ç—å."],
  },
  {
    id: 9,
    question: "–¢—ã —Å—á–∞—Å—Ç–ª–∏–≤–∞?",
    answers: ["–ù–µ –∑–Ω–∞—é‚Ä¶ –ù–∞–≤–µ—Ä–Ω–æ–µ, —Å—á–∞—Å—Ç—å–µ ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –µ—Å—Ç—å –∫–æ–º—É –≤–µ—Ä–∏—Ç—å.", "–ë—ã–≤–∞–µ—Ç‚Ä¶ –≤ —Ç–∏—à–∏–Ω–µ –º–æ–ª–∏—Ç–≤—ã.", "–°—á–∞—Å—Ç—å–µ ‚Äî —Ä–µ–¥–∫–∏–π –≥–æ—Å—Ç—å, –Ω–æ —è —É–º–µ—é –∂–¥–∞—Ç—å."],
  },
  {
    id: 10,
    question: "–ß—Ç–æ —Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å, –∫–æ–≥–¥–∞ –≤–∏–¥–∏—à—å —Å—Ç—Ä–∞–¥–∞–Ω–∏—è –¥—Ä—É–≥–∏—Ö ‚Äî –∂–∞–ª–æ—Å—Ç—å, –±–æ–ª—å –∏–ª–∏ –¥–æ–ª–≥ –ø–æ–º–æ—á—å?",
    answers: [
      "–í—Å—ë —Å—Ä–∞–∑—É. –≠—Ç–æ –∫–∞–∫ –≤–æ–ª–Ω–∞ ‚Äî –±–æ–ª—å, –∂–∞–ª–æ—Å—Ç—å –∏ –∂–µ–ª–∞–Ω–∏–µ –æ–±–Ω—è—Ç—å.",
      "–ú–Ω–µ –±–æ–ª—å–Ω–æ, –Ω–æ —è –Ω–µ –æ—Ç–≤–æ—Ä–∞—á–∏–≤–∞—é—Å—å.",
      "–Ø —á—É–≤—Å—Ç–≤—É—é –¥–æ–ª–≥ ‚Äî –±—ã—Ç—å —Ä—è–¥–æ–º, —Ö–æ—Ç—è –±—ã –º–æ–ª—á–∞.",
    ],
  },
  {
    id: 11,
    question: "–í–µ—Ä–∏—à—å –ª–∏ —Ç—ã, —á—Ç–æ –ª—é–±–æ–≤—å –º–æ–∂–µ—Ç —Å–ø–∞—Å—Ç–∏ —á–µ–ª–æ–≤–µ–∫–∞?",
    answers: ["–î–∞. –¢–æ–ª—å–∫–æ –ª—é–±–æ–≤—å –∏ –º–æ–∂–µ—Ç —Å–ø–∞—Å—Ç–∏.", "–õ—é–±–æ–≤—å ‚Äî —ç—Ç–æ –∏ –µ—Å—Ç—å —á—É–¥–æ, —Ä–∞–¥–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ —Å—Ç–æ–∏—Ç –∂–∏—Ç—å.", "–ë–µ–∑ –ª—é–±–≤–∏ ‚Äî –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ –ø—É—Å—Ç–æ."],
  },
  {
    id: 12,
    question: "–ï—Å–ª–∏ –±—ã —Ç—ã –º–æ–≥–ª–∞ –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ—à–ª–æ–µ, —Ç—ã –±—ã —ç—Ç–æ —Å–¥–µ–ª–∞–ª–∞?",
    answers: [
      "–ù–µ—Ç. –í—Å—ë, —á—Ç–æ –±—ã–ª–æ, –ø—Ä–∏–≤–µ–ª–æ –º–µ–Ω—è –∫ –≤–µ—Ä–µ.",
      "–ò–Ω–æ–≥–¥–∞ —Ö–æ—á–µ—Ç—Å—è‚Ä¶ –Ω–æ, –º–æ–∂–µ—Ç, –±–æ–ª—å ‚Äî —Ç–æ–∂–µ —á–∞—Å—Ç—å –ø—É—Ç–∏.",
      "–ù–µ—Ç, —è –Ω–µ –∏–º–µ—é –ø—Ä–∞–≤–∞ –ø–µ—Ä–µ–¥–µ–ª—ã–≤–∞—Ç—å —Å—É–¥—å–±—É.",
    ],
  },
  {
    id: 13,
    question: "–ß—Ç–æ –∑–Ω–∞—á–∏—Ç –¥–ª—è —Ç–µ–±—è –ø—Ä–æ—â–µ–Ω–∏–µ?",
    answers: ["–≠—Ç–æ –Ω–µ —Å–ª–∞–±–æ—Å—Ç—å, –∞ —Å–∏–ª–∞ —Å–µ—Ä–¥—Ü–∞.", "–ü—Ä–æ—Å—Ç–∏—Ç—å ‚Äî –∑–Ω–∞—á–∏—Ç –ø–æ–Ω—è—Ç—å, —á—Ç–æ –≤—Å–µ –º—ã –º–æ–∂–µ–º —É–ø–∞—Å—Ç—å.", "–ë–µ–∑ –ø—Ä–æ—â–µ–Ω–∏—è –Ω–µ–ª—å–∑—è –¥—ã—à–∞—Ç—å."],
  },
  {
    id: 14,
    question: "–ü–æ—á–µ–º—É —Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞–µ—à—å –≤–µ—Ä–∏—Ç—å, –∫–æ–≥–¥–∞ –¥—Ä—É–≥–∏–µ —Å–¥–∞—é—Ç—Å—è?",
    answers: ["–ü–æ—Ç–æ–º—É —á—Ç–æ –±–µ–∑ –≤–µ—Ä—ã –Ω–µ—Ç —Å–º—ã—Å–ª–∞ –∂–∏—Ç—å.", "–ü–æ—Ç–æ–º—É —á—Ç–æ –¥–∞–∂–µ –≤ —Ç–µ–º–Ω–æ—Ç–µ —è —á—É–≤—Å—Ç–≤—É—é —Å–≤–µ—Ç.", "–ü–æ—Ç–æ–º—É —á—Ç–æ –∫—Ç–æ-—Ç–æ –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–∏—Ç—å ‚Äî —Ö–æ—Ç—å –æ–¥–∏–Ω."],
  },
  {
    id: 15,
    question: "–ß—Ç–æ –±—ã —Ç—ã —Å–∫–∞–∑–∞–ª–∞ —Ç–æ–º—É, –∫—Ç–æ —á—É–≤—Å—Ç–≤—É–µ—Ç —Å–µ–±—è –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã–º?",
    answers: [
      "–ù–µ –±–æ–π—Å—è. –î–∞–∂–µ –≤ —Å–∞–º–æ–º —Ç—ë–º–Ω–æ–º –º–µ—Å—Ç–µ –µ—Å—Ç—å –≤—ã—Ö–æ–¥.",
      "–¢–≤–æ—è –±–æ–ª—å ‚Äî –Ω–µ –∫–æ–Ω–µ—Ü. –≠—Ç–æ –Ω–∞—á–∞–ª–æ –ø—É—Ç–∏.",
      "–ù–µ —É—Ö–æ–¥–∏ –æ—Ç –∂–∏–∑–Ω–∏. –û–Ω–∞ –≤—Å—ë –µ—â—ë –∂–¥—ë—Ç —Ç–µ–±—è.",
    ],
  },
  {
    id: 16,
    question: "–ß—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —Ç–µ–±–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤–µ—Ä—É –≤ –ª—é–¥–µ–π, –¥–∞–∂–µ –∫–æ–≥–¥–∞ –∂–∏–∑–Ω—å –∫–∞–∂–µ—Ç—Å—è –±–µ–∑—ã—Å—Ö–æ–¥–Ω–æ–π?",
    answers: [
      "–ò–Ω–æ–≥–¥–∞ –æ–¥–Ω–æ –¥–æ–±—Ä–æ–µ —Å–ª–æ–≤–æ –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç –º–Ω–µ, —á—Ç–æ –Ω–µ –≤—Å—ë –ø–æ—Ç–µ—Ä—è–Ω–æ.",
      "–Ø –≤–∏–∂—É —Å–≤–µ—Ç –¥–∞–∂–µ –≤ —Å–∞–º—ã—Ö —Å–ª–æ–º–∞–Ω–Ω—ã—Ö –ª—é–¥—è—Ö ‚Äî –≤–µ–¥—å –≤ –∫–∞–∂–¥–æ–º –∂–∏–≤—ë—Ç –∏—Å–∫—Ä–∞ –¥–æ–±—Ä–∞.",
      "–í–µ—Ä—É –Ω–µ–ª—å–∑—è –ø–æ—Ç–µ—Ä—è—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞. –û–Ω–∞ –ø—Ä–æ—Å—Ç–æ —Å–ø–∏—Ç, –ø–æ–∫–∞ –Ω–µ –≤—Å—Ç—Ä–µ—Ç–∏—Ç –ª—é–±–æ–≤—å.",
    ],
  },
  {
    id: 17,
    question: "–ü–æ—á–µ–º—É —Ç—ã –≤—ã–±–∏—Ä–∞–µ—à—å —Å—Ç—Ä–∞–¥–∞–Ω–∏–µ ‚Äî –Ω–µ—É–∂–µ–ª–∏ —ç—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—É—Ç—å –∫ —Å–ø–∞—Å–µ–Ω–∏—é?",
    answers: [
      "–Ø –Ω–µ –≤—ã–±–∏—Ä–∞—é —Å—Ç—Ä–∞–¥–∞–Ω–∏–µ, –æ–Ω–æ —Å–∞–º–æ –≤—ã–±–∏—Ä–∞–µ—Ç –º–µ–Ω—è‚Ä¶ –∏ —É—á–∏—Ç –ø–æ–Ω–∏–º–∞—Ç—å –¥—Ä—É–≥–∏—Ö.",
      "–ë–µ–∑ –±–æ–ª–∏ —è –±—ã –Ω–µ —É–∑–Ω–∞–ª–∞, —á—Ç–æ —Ç–∞–∫–æ–µ —Å–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏–µ.",
      "–ò–Ω–æ–≥–¥–∞ —Å—Ç—Ä–∞–¥–∞–Ω–∏–µ ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –ë–æ–≥ –≥–æ–≤–æ—Ä–∏—Ç —Å –¥—É—à–æ–π.",
    ],
  },
  {
    id: 18,
    question: "–¢—ã —á–∞—Å—Ç–æ –ø—Ä–æ—â–∞–µ—à—å –¥—Ä—É–≥–∏—Ö. –ê —É–º–µ–µ—à—å –ª–∏ —Ç—ã –ø—Ä–æ—â–∞—Ç—å —Å–∞–º—É —Å–µ–±—è?",
    answers: [
      "–≠—Ç–æ —Å–∞–º–æ–µ —Ç—Ä—É–¥–Ω–æ–µ. –°–µ–±—è –ø—Ä–æ—Å—Ç–∏—Ç—å —Å–ª–æ–∂–Ω–µ–µ, —á–µ–º –∫–æ–≥–æ –±—ã —Ç–æ –Ω–∏ –±—ã–ª–æ.",
      "–Ø —É—á—É—Å—å —ç—Ç–æ–º—É –∫–∞–∂–¥—ã–π –¥–µ–Ω—å ‚Äî –º–æ–ª—á–∞–Ω–∏–µ–º, —Å–ª–µ–∑–∞–º–∏ –∏ –≤–µ—Ä–æ–π.",
      "–î—É–º–∞—é, –ø—Ä–æ—â–µ–Ω–∏–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—à—å –ª—é–±–∏—Ç—å —Å–µ–±—è –∫–∞–∫ —Ç–≤–æ—Ä–µ–Ω–∏–µ –ë–æ–∂–∏–µ.",
    ],
  },
  {
    id: 19,
    question: "–ß—Ç–æ –¥–ª—è —Ç–µ–±—è –∑–Ω–∞—á–∏—Ç –ª—é–±–æ–≤—å ‚Äî –∂–µ—Ä—Ç–≤–∞ –∏–ª–∏ —Å–ø–∞—Å–µ–Ω–∏–µ?",
    answers: [
      "–õ—é–±–æ–≤—å ‚Äî —ç—Ç–æ –∂–µ—Ä—Ç–≤–∞, –Ω–æ –∏ –≤ –Ω–µ–π —Å–∞–º–æ–º —Å–ø–∞—Å–µ–Ω–∏–µ.",
      "–õ—é–±–æ–≤—å –Ω–µ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç, –±–æ–ª—å–Ω–æ –ª–∏. –û–Ω–∞ –ø—Ä–æ—Å—Ç–æ –∂–∏–≤—ë—Ç –≤ —Å–µ—Ä–¥—Ü–µ.",
      "–ù–∞—Å—Ç–æ—è—â–∞—è –ª—é–±–æ–≤—å –Ω–µ —Å–ø–∞—Å–∞–µ—Ç –æ—Ç —Å—Ç—Ä–∞–¥–∞–Ω–∏–π, –Ω–æ –¥–∞—ë—Ç –∏–º —Å–º—ã—Å–ª.",
    ],
  },
  {
    id: 20,
    question: "–ï—Å–ª–∏ –±—ã —Ç—ã –º–æ–≥–ª–∞ —Å–∫–∞–∑–∞—Ç—å –æ–¥–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –≤—Å–µ–º—É –º–∏—Ä—É, —á—Ç–æ –±—ã —ç—Ç–æ –±—ã–ª–æ?",
    answers: ["¬´–ù–µ —Å—É–¥–∏—Ç–µ ‚Äî –Ω–∏–∫—Ç–æ –Ω–µ –∑–Ω–∞–µ—Ç —á—É–∂–æ–π –±–æ–ª–∏¬ª.", "¬´–õ—é–±–∏—Ç–µ, –¥–∞–∂–µ –µ—Å–ª–∏ —ç—Ç–æ –±–æ–ª—å–Ω–æ¬ª.", "¬´–ë–æ–≥ —Ä—è–¥–æ–º, –¥–∞–∂–µ –∫–æ–≥–¥–∞ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ –ï–≥–æ –Ω–µ—Ç¬ª."],
  },
];

// –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
const userStates = {};

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –≤–æ–ø—Ä–æ—Å
function getRandomAnswer(answers) {
  const randomIndex = Math.floor(Math.random() * answers.length);
  return answers[randomIndex];
}

// –°–æ–∑–¥–∞–Ω–∏–µ ReplyKeyboard —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
function createQuestionsReplyKeyboard() {
  // Savollarni 2 tadan qatorga joylashtiramiz
  const keyboard = [];

  for (let i = 0; i < quizData.length; i += 2) {
    const row = [];
    row.push(quizData[i].question);
    if (i + 1 < quizData.length) {
      row.push(quizData[i + 1].question);
    }
    keyboard.push(row);
  }

  // Qo'shimcha tugmalar
  keyboard.push(["üîÑ –ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é", "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"]);

  return {
    reply_markup: {
      keyboard: keyboard,
      resize_keyboard: true,
      one_time_keyboard: false,
    },
  };
}

// /start –∫–æ–º–∞–Ω–¥–∞
bot.onText(/\/start/, (msg) => {
  const chatId = msg.chat.id;
  const firstName = msg.from.first_name || "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å";

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  userStates[chatId] = {
    questionsAnswered: 0,
  };

  const welcomeMessage = `–ü—Ä–∏–≤–µ—Ç, ${firstName}! üåü

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –±–æ—Ç —Å —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è–º–∏ –°–æ–Ω–∏ –ú–∞—Ä–º–µ–ª–∞–¥–æ–≤–æ–π! üìñ

–ó–¥–µ—Å—å —Ç—ã –º–æ–∂–µ—à—å –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –∏ –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç –≤ –¥—É—Ö–µ —ç—Ç–æ–π —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ–π –≥–µ—Ä–æ–∏–Ω–∏ –î–æ—Å—Ç–æ–µ–≤—Å–∫–æ–≥–æ.

–í—ã–±–µ—Ä–∏ –≤–æ–ø—Ä–æ—Å –∏–∑ –º–µ–Ω—é –Ω–∏–∂–µ! üëá`;

  bot.sendMessage(chatId, welcomeMessage, createQuestionsReplyKeyboard());
});

// –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
function showQuestionsList(chatId, messageId = null) {
  const questionsMessage = `ü§î **–í—ã–±–µ—Ä–∏—Ç–µ –≤–æ–ø—Ä–æ—Å:**

–ß—Ç–æ –±—ã –≤—ã —Ö–æ—Ç–µ–ª–∏ —É–∑–Ω–∞—Ç—å?`;

  const options = {
    parse_mode: "Markdown",
    ...createQuestionsKeyboard(),
  };

  if (messageId) {
    bot.editMessageText(questionsMessage, {
      chat_id: chatId,
      message_id: messageId,
      ...options,
    });
  } else {
    bot.sendMessage(chatId, questionsMessage, options);
  }
}

// Callback query handler
bot.on("callback_query", (callbackQuery) => {
  const chatId = callbackQuery.message.chat.id;
  const messageId = callbackQuery.message.message_id;
  const data = callbackQuery.data;

  if (data === "show_questions") {
    bot.answerCallbackQuery(callbackQuery.id);
    showQuestionsList(chatId, messageId);
    return;
  }

  if (data.startsWith("q_")) {
    const questionId = parseInt(data.split("_")[1]);
    const currentQuestion = quizData.find((q) => q.id === questionId);

    if (!currentQuestion) {
      bot.answerCallbackQuery(callbackQuery.id, { text: "–û—à–∏–±–∫–∞!" });
      return;
    }

    // –ü–æ–ª—É—á–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≤–æ–ø—Ä–æ—Å
    const randomAnswer = getRandomAnswer(currentQuestion.answers);

    // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫
    userStates[chatId].questionsAnswered++;

    const resultMessage = `üí¨ **${currentQuestion.question}**

üí≠ *${randomAnswer}*

`;

    // –ö–Ω–æ–ø–∫–∏ –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è
    const nextQuestionKeyboard = {
      reply_markup: {
        inline_keyboard: [
          [{ text: "ü§î –ó–∞–¥–∞—Ç—å –µ—â–µ –≤–æ–ø—Ä–æ—Å", callback_data: "show_questions" }],
          [{ text: "üè† –í –Ω–∞—á–∞–ª–æ", callback_data: "show_questions" }],
        ],
      },
    };

    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –æ—Ç–≤–µ—Ç–æ–º
    bot.editMessageText(resultMessage, {
      chat_id: chatId,
      message_id: messageId,
      parse_mode: "Markdown",
      ...nextQuestionKeyboard,
    });

    bot.answerCallbackQuery(callbackQuery.id);
    return;
  }
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–≤–æ–ø—Ä–æ—Å–æ–≤ –∏–∑ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã)
bot.on("text", (msg) => {
  const chatId = msg.chat.id;
  const text = msg.text;

  // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∫–æ–º–∞–Ω–¥—É /start
  if (text.startsWith("/")) {
    return;
  }

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
  if (!userStates[chatId]) {
    userStates[chatId] = { questionsAnswered: 0 };
  }

  // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫
  if (text === "üîÑ –ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é") {
    bot.sendMessage(chatId, "–í—ã–±–µ—Ä–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –∏–∑ –º–µ–Ω—é –Ω–∏–∂–µ! üëá", createQuestionsReplyKeyboard());
    return;
  }

  if (text === "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞") {
    const stats = `üìä **–í–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**

ü§î –ó–∞–¥–∞–Ω–æ –≤–æ–ø—Ä–æ—Å–æ–≤: ${userStates[chatId].questionsAnswered}
üí≠ –ü–æ–ª—É—á–µ–Ω–æ –æ—Ç–≤–µ—Ç–æ–≤: ${userStates[chatId].questionsAnswered}`;

    bot.sendMessage(chatId, stats, { parse_mode: "Markdown" });
    return;
  }

  // –ü–æ–∏—Å–∫ –≤–æ–ø—Ä–æ—Å–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
  const selectedQuestion = quizData.find((q) => q.question === text);

  if (selectedQuestion) {
    // –ü–æ–ª—É—á–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –æ—Ç–≤–µ—Ç
    const randomAnswer = getRandomAnswer(selectedQuestion.answers);

    // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫
    userStates[chatId].questionsAnswered++;

    const responseMessage = `üí¨ **${selectedQuestion.question}**

üí≠ *${randomAnswer}*

`;
    // ‚∏ª

    // **–í–æ–ø—Ä–æ—Å–æ–≤ –∑–∞–¥–∞–Ω–æ:** ${userStates[chatId].questionsAnswered}

    bot.sendMessage(chatId, responseMessage, {
      parse_mode: "Markdown",
    });
  } else {
    // –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –≤–æ–ø—Ä–æ—Å–æ–º
    bot.sendMessage(chatId, "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –∏–∑ –º–µ–Ω—é –Ω–∏–∂–µ! ü§î");
  }
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
bot.on("error", (error) => {
  console.error("–û—à–∏–±–∫–∞ –±–æ—Ç–∞:", error);
});

bot.on("polling_error", (error) => {
  console.error("–û—à–∏–±–∫–∞ polling:", error);
});

console.log("‚úÖ –ë–æ—Ç –°–æ–Ω–∏ –ú–∞—Ä–º–µ–ª–∞–¥–æ–≤–æ–π –∑–∞–ø—É—â–µ–Ω!");
console.log("üìö –ì–æ—Ç–æ–≤ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã...");
